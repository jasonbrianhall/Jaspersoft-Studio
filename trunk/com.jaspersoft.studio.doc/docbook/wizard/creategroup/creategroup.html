<html>
  <head>
    <meta name="generator"
    content="HTML Tidy for HTML5 (experimental) for Windows https://github.com/w3c/tidy-html5/tree/c63cc39" />
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
    <title>Creation of a Group</title>
    <meta content="DocBook XSL Stylesheets V1.78.0" name="generator" />
  </head>
  <body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
    <div class="section">
      <div class="titlepage">
        <div>
          <div>
            <h2 class="title" style="clear: both">
            <a name="N40003"></a>Creation of a Group</h2>
          </div>
        </div>
        <hr />
      </div>
      <div class="section">
      <div class="titlepage"></div>
      <p>Groups allow you to organize the records of a report with a better structure. A group is defined through an expression, so
      it can contain fields and variables, JasperRepors evaluates this expression and puts in the same group all the elements that
      have the same final result of the expression. When the result change then a new group is started. To create a new group go
      into the Outline view, right click on the root element (the report you have created) and select &quot;Create Group&quot;, as
      shown in the image below:</p>
      <div class="figure">
        <a name="N40014"></a>
        <p class="title">
          <b>Figure 1. Select the Create Group action</b>
        </p>
        <div class="figure-contents">
          <div class="screenshot">
            <div class="mediaobject">
              <img src="1.png" width="800" alt="Select the Create Group action" />
            </div>
          </div>
        </div>
      </div>
      <br class="figure-break" />
      <p>Now the window to create a new group will appear:</p>
      <div class="figure">
        <a name="N40014"></a>
        <p class="title">
          <b>Figure 2. Group Name and Type Step</b>
        </p>
        <div class="figure-contents">
          <div class="screenshot">
            <div class="mediaobject">
              <img src="2.png" width="500" alt="Group Name and Type Step" />
            </div>
          </div>
        </div>
      </div>
      <br class="figure-break" />
      <p>There you can select the group name and there are two options to create a new group:</p>
      <ol>
        <li>Create group from a report object: it is a simplified option to create a group avoiding to use directly the expression
        and the expression editor. Selecting this option all the fields and variables defined are listed and selecting one of the
        it&#39;s possible to group the elements read from the datasource by the value of that object. Selecting an element from
        this list is equivalent to create a group where the expression include only that element.</li>
        <li>Create group from expression: often the &quot;create group from a report object&quot; option will be sufficent to do
        what you want, but sometime a more complex selection is needed. Suppose to have the filed &quot;Money_Spent&quot; that hold
        the amount of money you spent day for day, and you want to group the days where you have spent more moneys. In this case
        you can define a group with the expression Iike $F{Money_Spent}&gt;150. This expression return a booelan so it will group
        the consecutive days where the money spent is greather than 150. Anyway define an expression for a group it&#39;s
        equivalent to define a variable with that same expression and then create a group, with the &quot;create group from a
        report object&quot; method, that use the variable.</li>
      </ol>In the previous example was used the word &quot;consecutive&quot; for the grouped values. It&#39;s important to remember
      that a group by default takes the elements in the order that they are readed from the datasource. So if we have spent 120 for
      two consecutive day, 200 the third day and 100 the fourth day, three group will be created, one with the first two elements,
      one with the third, and one with the fourth. What happen is:
      <ol>
        <li>Read the first value and evaluates the group expression: 120 is not greater than 150 and i have not a group so this is
        the start of a group;</li>
        <li>Read the second value and evaluates the group expression: 120 is still not greater than 150, the expression has the
        same value of before so the read value goes in the last group;</li>
        <li>Read the third value and evaluates the group expression: 200 is greater than 150, the value of the expression has
        changed so i&#39;m starting a new group;</li>
        <li>Read the fourth and last value and evalutes the group expression: 100 is not greater than 150, the value of the
        expression has changed so i&#39;m starting a new group.</li>
      </ol>This should clarify how the evaluation of the expression incide on the creation of a new group. Returning to the
      creation of the group, after we have selected the way how the group is evaluated we can click &quot;Next&quot; or
      &quot;Finish&quot;. If we click next the following window will appear:
      <div class="figure">
        <a name="N40014"></a>
        <p class="title">
          <b>Figure 3. Group Bands Step</b>
        </p>
        <div class="figure-contents">
          <div class="screenshot">
            <div class="mediaobject">
              <img src="3.png" width="500" alt="Group Bands Selection" />
            </div>
          </div>
        </div>
      </div>
      <br class="figure-break" />
      <p>There you can select if you want the header and the footer of the group in the report. The group will be evaluated even
      without this two bands, but without any of them there aren&#39;t visually changes between a group and another (but the group
      can still be used for other calculations, see for example the evaluation time, reset type and the other fields in the
      variable section that uses the group to do some calculations). This because the bands Header and Footer will be always
      created, and them are visible in the outline view, but if one of the checkbox is unchecked then the relative band will not be
      placed into the report (in the outline view a band not visible in the report has its name in lightgray color). If you click
      finish in the previous screen instead of Next both the bands of the group will be created.</p></div>
    </div>
  </body>
</html>